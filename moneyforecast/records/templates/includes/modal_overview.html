{% load admin_urls record_tags i18n %}
<div class="modal fade records-list-modal" id="{{ type_records }}-{{ month.month }}-{{ month.year }}">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h1 class="text-center">{{ type_records|capfirst }} {{ month.start_date|date:"b/Y"|capfirst }}</h1>
        <div class="records-list">
            <table class="table table-hover">
              {% for record in record_list %}
              <tr title="{{ record.category }}" class="{% if not record.1|is_accountable:month.initial_balance_date %}warning{% endif %}">
                <td>{{ record.0|date:"d b" }}</td>
                <td>{# TODO: add number eg. 2/10 #} 
                  {{ record.1.description|default:record.1.category }}
                  {% if not record.1|is_accountable:month.initial_balance_date %}*{% endif %}
                </td>
                <td class="number">{{ currency }} {{ record.1.amount|stringformat:".2f" }}</td>
                <td>
                  <a href="{% url 'admin:records_record_change' record.1.pk %}" target="_blank">
                    <span class="glyphicon glyphicon-pencil text-muted" aria-hidden="true"></span>
                  </a>
                </td>
              </tr>
              {% endfor %}
            </table>
          </div>
        <p class="text-muted"><small>*{% trans "Yellow records are not being calculated on the final balance <br>because they are before the initial balance from " %}{{ month.initial_balance_date|date:"d b Y" }}</small></p>

        <p>
          <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->